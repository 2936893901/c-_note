# `Class(â…°)`

- ç±»æ˜¯*æ•°æ®ç»“æ„*çš„æ‰©å±•æ¦‚å¿µï¼šä¸æ•°æ®ç»“æ„ä¸€æ ·ï¼Œå®ƒä»¬å¯ä»¥åŒ…å«æ•°æ®æˆå‘˜ï¼Œä½†ä¹Ÿå¯ä»¥åŒ…å«å‡½æ•°ä½œä¸ºæˆå‘˜ã€‚

  ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–ã€‚å°±å˜é‡è€Œè¨€ï¼Œç±»å°†æ˜¯ç±»å‹ï¼Œè€Œå¯¹è±¡å°†æ˜¯å˜é‡ã€‚å…·ä½“è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š

```c++
class class_name
{
    access_specifier_1:
        member1;
    access_specifier_1:
        member2;
    .
    .
    .
}object_names;
```

1. `class_name`æ˜¯è¯¥ç±»çš„æœ‰æ•ˆæ ‡è¯†ç¬¦
2. `object_names`å¯¹è±¡çš„åç§°çš„å¯é€‰åˆ—è¡¨

3. `access_specifier`è®¿é—®è¯´æ˜ç¬¦ ,ä¸€ä¸ªè®¿é—®è¯´æ˜ç¬¦æ˜¯ä»¥ä¸‹ä¸‰ä¸ªå…³é”®å­—ä¹‹ä¸€ï¼š`private`ï¼Œ`public`æˆ–`protected`ã€‚
   1. `private`åªèƒ½ä»åŒä¸€`class`çš„å…¶ä»–æˆå‘˜ï¼ˆæˆ–ä»å…¶`â€œfriendsâ€`ï¼‰ä¸­è®¿é—®ç­çº§çš„æˆå‘˜ã€‚
   2. `protected`æˆå‘˜å¯ä»¥ä»ç›¸åŒ`class`çš„å…¶ä»–æˆå‘˜ï¼ˆæˆ–ä»å…¶`â€œfriendsâ€`ï¼‰è®¿é—®ï¼Œä¹Ÿå¯ä»¥ä»å…¶æ´¾ç”Ÿç±»çš„æˆå‘˜
   3. `public`å¯ä»¥ä»å¯è§å¯¹è±¡çš„ä»»ä½•ä½ç½®è®¿é—®æˆå‘˜ã€‚

<u>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨classå…³é”®å­—å£°æ˜çš„ç±»çš„æ‰€æœ‰æˆå‘˜å¯¹å…¶æ‰€æœ‰æˆå‘˜å…·æœ‰ç§æœ‰(`private`)è®¿é—®æƒã€‚å› æ­¤ï¼Œåœ¨ä»»ä½•å…¶ä»–è®¿é—®è¯´æ˜ç¬¦ä¹‹å‰å£°æ˜çš„ä»»ä½•æˆå‘˜éƒ½è‡ªåŠ¨æ‹¥æœ‰ç§æœ‰(`private`)è®¿é—®æƒã€‚</u>



****

## æ„é€ å‡½æ•°

- ç±»å¯ä»¥åŒ…å«ä¸€ä¸ªç§°ä¸ºå…¶*æ„é€ *å‡½æ•°çš„ç‰¹æ®Šå‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨åˆ›å»ºæ­¤ç±»çš„æ–°å¯¹è±¡æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œä»è€Œå…è®¸è¯¥ç±»åˆå§‹åŒ–æˆå‘˜å˜é‡æˆ–åˆ†é…å­˜å‚¨ç©ºé—´ã€‚
- è¯¥æ„é€ å‡½æ•°çš„å£°æ˜ä¸å¸¸è§„æˆå‘˜å‡½æ•°çš„å£°æ˜ç±»ä¼¼ï¼Œä½†æ˜¯å…¶åç§°ä¸ç±»åç§°åŒ¹é…ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•è¿”å›ç±»å‹ã€‚ç”šè‡³æ²¡æœ‰`void`ã€‚

```c++
class_name (parameter1, parameter2,...)
{
    statement;
}
```

- èŒƒå›´è¿ç®—ç¬¦ï¼ˆ`::`ï¼‰æŒ‡å®šè¦å®šä¹‰çš„æˆå‘˜æ‰€å±çš„ç±»ï¼Œå¹¶æˆäºˆå®Œå…¨ç›¸åŒçš„ä½œç”¨åŸŸå±æ€§ï¼Œå°±å¥½åƒè¯¥å‡½æ•°å®šä¹‰ç›´æ¥åŒ…å«åœ¨ç±»å®šä¹‰ä¸­ä¸€æ ·ã€‚

<u>æ³¨æ„æ„é€ å‡½æ•°åŸå‹å£°æ˜ï¼ˆåœ¨ç±»å†…ï¼‰å’Œåé¢çš„æ„é€ å‡½æ•°å®šä¹‰éƒ½æ²¡æœ‰è¿”å›å€¼ã€‚ç”šè‡³ä¸`void`ï¼šæ„é€ å‡½æ•°ä»ä¸è¿”å›å€¼ï¼Œå®ƒä»¬åªæ˜¯åˆå§‹åŒ–å¯¹è±¡ã€‚</u>



- å¦‚æœæ²¡æœ‰åœ¨ç±»ä¸­å®šä¹‰å‰¯æœ¬æ„é€ å‡½æ•°ï¼Œåˆ™ç¼–è¯‘å™¨æœ¬èº«å°†å®šä¹‰ä¸€ä¸ªå‰¯æœ¬æ„é€ å‡½æ•°ã€‚å¦‚æœè¯¥ç±»å…·æœ‰æŒ‡é’ˆå˜é‡å¹¶å…·æœ‰ä¸€äº›åŠ¨æ€å†…å­˜åˆ†é…ï¼Œåˆ™å¿…é¡»å…·æœ‰å‰¯æœ¬æ„é€ å‡½æ•°

```c++
class_name(const class_name &obj)
{
    statement;
}
```



****

## ç±»çš„ææ„å‡½æ•°

- **ææ„å‡½æ•°**æ˜¯ç±»çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œæ¯å½“å…¶ç±»çš„å¯¹è±¡è¶…å‡ºèŒƒå›´æˆ–å°†deleteè¡¨è¾¾å¼åº”ç”¨äºæŒ‡å‘è¯¥ç±»å¯¹è±¡çš„æŒ‡é’ˆæ—¶ï¼Œéƒ½æ‰§è¡Œè¯¥ææ„å‡½æ•°ã€‚

- ææ„å‡½æ•°å°†å…·æœ‰ä¸ä»¥æ³¢æµªå·(~)ä¸ºå‰ç¼€çš„ç±»å®Œå…¨ç›¸åŒçš„åç§°ï¼Œå¹¶ä¸”å®ƒæ—¢**ä¸èƒ½è¿”å›å€¼**ï¼Œä¹Ÿ**ä¸èƒ½æ¥å—ä»»ä½•å‚æ•°**ã€‚

```c++
~class_name();
```



****

## é‡è½½æ„é€ å‡½æ•°

- åƒä»»ä½•å…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œæ„é€ å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨å¸¦æœ‰ä¸åŒå‚æ•°çš„ä¸åŒç‰ˆæœ¬æ¥é‡è½½ï¼šå…·æœ‰ä¸åŒæ•°é‡çš„å‚æ•°å’Œ/æˆ–ä¸åŒç±»å‹çš„å‚æ•°ã€‚ç¼–è¯‘å™¨å°†è‡ªåŠ¨è°ƒç”¨å…¶å‚æ•°ä¸å‚æ•°åŒ¹é…çš„å‚æ•°ï¼š

```c++
#include <iostream>
using namespace std;

class Rect_c
{
    int width, height;
    public:
    Rect_c();
    Rect_c(int, int);
    int area(){return (width * height);}
};

Rect_c::Rect_c()
{
    width = 1;
    height = 1;
}

Rect_c::Rect_c(int a, int b)
{
	width = a;
    height = b;
}

int main()
{
    Rect_c r (10, 10);
    Rect_c rb;
    cout << r.area() << '\n';
    cout << rb.area() << '\n';
    return 0;
}
```



```c++
Rect_c r;	// é»˜è®¤æ„é€ æ–¹æ³•è¢«è°ƒç”¨
Rect_c rb();	// é»˜è®¤æ„é€ å‡½æ•°æœªè¢«è°ƒç”¨
```

****

## `friend`å‡½æ•°ï¼ˆå‹å…ƒå‡½æ•°ï¼‰

- ç±»çš„`friend`åŠŸèƒ½æ˜¯åœ¨è¯¥ç±»çš„èŒƒå›´ä¹‹å¤–å®šä¹‰çš„ï¼Œä½†æ˜¯å®ƒ**æœ‰æƒè®¿é—®è¯¥ç±»çš„æ‰€æœ‰ç§æœ‰æˆå‘˜å’Œå—ä¿æŠ¤æˆå‘˜**ã€‚å³ä½¿`friend`å‡½æ•°çš„åŸå‹å‡ºç°åœ¨ç±»å®šä¹‰ä¸­ï¼Œ**`friend`ä¹Ÿä¸æ˜¯æˆå‘˜å‡½æ•°**ã€‚
- å‹å…ƒå¯ä»¥æ˜¯å‡½æ•°ï¼Œå‡½æ•°æ¨¡æ¿æˆ–æˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ç±»æˆ–ç±»æ¨¡æ¿ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•´ä¸ªç±»åŠå…¶æ‰€æœ‰æˆå‘˜éƒ½æ˜¯å‹å…ƒã€‚

> ä¼˜ç‚¹ï¼šæé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚
>
> ç¼ºç‚¹ï¼šç ´åäº†ç±»çš„å°è£…æ€§å’Œæ•°æ®çš„é€æ˜æ€§ã€‚

```c++
friend type name(class_name param);
```



- å®ä¾‹ï¼š

```c++
#include <iostream>

using namespace std;

class Friend_c
{
    int n = 2;
    public:
    Friend_c (){}
    friend void print_n(Friend_c f);
};

void print_n(Friend_c f)
{
    cout << "private n value is " << f.n << '\n';
}

int main()
{
    Friend_c fc;
    print_n(fc);
    return 0;
}
```




> **æ³¨æ„**
>
> <u>å‹å…ƒå…³ç³»ä¸ä¼ é€’ï¼ˆä½ å‹å…ƒçš„å‹å…ƒä¸æ˜¯ä½ çš„å‹å…ƒï¼‰ã€‚</u>
>
> <u>å‹å…ƒå…³ç³»ä¸ç»§æ‰¿ï¼ˆä½ å‹å…ƒçš„å­©å­ä¸æ˜¯ä½ çš„å‹å…ƒï¼‰ã€‚</u>
>
> <u>å‹å…ƒå‡½æ•°å£°æ˜ä¸­ä¸å…è®¸ä½¿ç”¨å­˜å‚¨ç±»è¯´æ˜ç¬¦ã€‚åœ¨å‹å…ƒå£°æ˜ä¸­å®šä¹‰çš„å‡½æ•°å…·æœ‰å¤–éƒ¨è¿æ¥ï¼Œå…ˆå‰å·²å®šä¹‰çš„å‡½æ•°ä¿æŒå…¶å®šä¹‰æ—¶æ‰€å…·æœ‰çš„è¿æ¥ã€‚</u>
>
> <u>è®¿é—®è¯´æ˜ç¬¦å¯¹äºå‹å…ƒå£°æ˜çš„å«ä¹‰æ²¡æœ‰å½±å“ï¼ˆå®ƒä»¬å¯å‡ºç°äº `private:` æˆ–äº `public:` èŠ‚ï¼Œä¸”å¹¶æ— åŒºåˆ«ï¼‰ã€‚</u>
>
> <u>å‹å…ƒç±»å£°æ˜ä¸èƒ½å®šä¹‰æ–°çš„ç±»ï¼ˆfriend class X {}; æ˜¯é”™çš„ï¼‰ã€‚</u>

****

## ç»Ÿä¸€çš„åˆå§‹åŒ–

- é€šè¿‡å°†æ„é€ å‡½æ•°çš„å‚æ•°æ‹¬åœ¨æ‹¬å·ä¸­æ¥è°ƒç”¨æ„é€ å‡½æ•°çš„æ–¹å¼ç§°ä¸ºåŠŸèƒ½å½¢å¼ã€‚ä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è¯­æ³•æ¥è°ƒç”¨

  æ„é€ å‡½æ•°ï¼šé¦–å…ˆï¼Œå¯ä»¥ä½¿ç”¨å˜é‡åˆå§‹åŒ–è¯­æ³•ï¼ˆç­‰å·åè·Ÿå‚æ•°ï¼‰æ¥è°ƒç”¨å…·æœ‰å•ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ï¼š

```c++
class_name obejct_name = init_value;
```

- C ++å¼•å…¥äº†ä½¿ç”¨*ç»Ÿä¸€åˆå§‹åŒ–*æ¥è°ƒç”¨æ„é€ å‡½æ•°çš„å¯èƒ½æ€§

```c++
class_name object_name {value, value, value...};
```


- ç»Ÿä¸€åˆå§‹åŒ–ä¼˜äºå‡½æ•°å½¢å¼çš„ä¼˜ç‚¹åœ¨äºï¼Œä¸æ‹¬å·ä¸åŒï¼ŒèŠ±æ‹¬å·ä¸èƒ½ä¸å‡½æ•°å£°æ˜æ··æ·†ï¼Œå› æ­¤å¯ä»¥ç”¨äºæ˜¾å¼è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼š

```c++
class_name name;	// é»˜è®¤æ„é€ æ–¹æ³•è¢«è°ƒç”¨
class_name name();	//æ–¹æ³•å£°æ˜ï¼ˆé»˜è®¤æ„é€ æ–¹æ³•æ²¡è¢«è°ƒç”¨ï¼‰
class_name name{};	// é»˜è®¤æ„é€ æ–¹æ³•è¢«è°ƒç”¨
```

- è°ƒç”¨æ„é€ å‡½æ•°çš„è¯­æ³•é€‰æ‹©å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºæ ·å¼ã€‚å½“å‰å¤§å¤šæ•°ç°æœ‰ä»£ç éƒ½ä½¿ç”¨å‡½æ•°å½¢å¼ï¼Œå¹¶ä¸”ä¸€äº›è¾ƒæ–°çš„æ ·å¼æŒ‡å—å»ºè®®é€‰æ‹©ç»Ÿä¸€çš„åˆå§‹åŒ–æ–¹å¼ï¼Œå³ä½¿å…¶ä»–`initializer_list`ç±»å‹çš„é¦–é€‰é¡¹ä¹Ÿå­˜åœ¨æ½œåœ¨çš„ç¼ºé™·ã€‚



****

## æ„é€ å‡½æ•°ä¸­çš„æˆå‘˜åˆå§‹åŒ–

- ä½¿ç”¨æ„é€ å‡½æ•°åˆå§‹åŒ–å…¶ä»–æˆå‘˜æ—¶ï¼Œå¯ä»¥ç›´æ¥åˆå§‹åŒ–è¿™äº›å…¶ä»–æˆå‘˜ï¼Œè€Œæ— éœ€ä½¿ç”¨å…¶ä¸»ä½“ä¸­çš„è¯­å¥ã€‚è¿™æ˜¯é€šè¿‡åœ¨æ„é€ å‡½æ•°çš„ä¸»ä½“ä¹‹å‰æ’å…¥å†’å·ï¼ˆ`:`ï¼‰å’Œç±»æˆå‘˜çš„åˆå§‹åŒ–åˆ—è¡¨æ¥å®Œæˆçš„ã€‚

```c++
class Rect
{
    int width, height;
    public:
    Rect (int, int);
    int area(){return width * height;}
};
```



- ä¸‰ç§å®šä¹‰æ„é€ æ–¹æ³•çš„æ–¹æ³•

```c++
Rect::Rect(int x, int y)
{
    width = x;
    height = y;
}

Rect::Rect(int x, int y) : width(x)
{
    height = y;
}

Rect::Rect(int x, int y) : width(x), height(y){}
```



****

## ç±»çš„æŒ‡é’ˆ

- æŒ‡é’ˆä¹Ÿå¯ä»¥æŒ‡å‘å¯¹è±¡ï¼šå£°æ˜åï¼Œç±»å˜ä¸ºæœ‰æ•ˆç±»å‹ï¼Œå› æ­¤å¯ä»¥ç”¨ä½œæŒ‡é’ˆæŒ‡å‘çš„ç±»å‹ã€‚

```c++
class_name * pointer_name;
```

- ä¸æ™®é€šæ•°æ®ç»“æ„ç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ï¼ˆ`->`ï¼‰ä»æŒ‡é’ˆç›´æ¥è®¿é—®å¯¹è±¡çš„æˆå‘˜ã€‚

```c++
pointer_name -> member;
```

| è¡¨è¾¾å¼          | å¯ä»¥è¯»ä½œ               |
| --------------- | ---------------------- |
| `*x`            | ç”±xæŒ‡å‘                |
| `&x`            | xçš„åœ°å€                |
| `x.y`           | å¯¹è±¡xæŒ‡å‘æˆå‘˜y         |
| `x->y`,`(*x).y` | å¯¹è±¡æŒ‡é’ˆxæŒ‡å‘æˆå‘˜y     |
| `x[n]`          | xæŒ‡å‘çš„ç¬¬`(n+1)`ä¸ªç‰©ä½“ |



****

## ç”¨ç±»å®šä¹‰`struct`å’Œ`union`

- ä¸ä»…å¯ä»¥ä½¿ç”¨å…³é”®å­—å®šä¹‰ç±»`class`ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…³é”®å­—`struct`å’Œå®šä¹‰ç±»`union`ã€‚
- å…³é”®å­—`struct`é€šå¸¸ç”¨äºå£°æ˜çº¯æ•°æ®ç»“æ„ï¼Œä¹Ÿå¯ä»¥ç”¨äºå£°æ˜å…·æœ‰æˆå‘˜å‡½æ•°çš„ç±»ï¼Œå…¶è¯­æ³•ä¸å…³é”®å­—`class`ç›¸åŒã€‚ä¸¤è€…ä¹‹é—´çš„å”¯ä¸€åŒºåˆ«æ˜¯ï¼Œä½¿ç”¨å…³é”®å­—ç»“æ„å£°æ˜çš„æˆå‘˜é»˜è®¤å…·æœ‰å…¬å…±`(public)`è®¿é—®æƒï¼Œè€Œä½¿ç”¨å…³é”®å­—ç±»å£°æ˜çš„æˆå‘˜é»˜è®¤å…·æœ‰ç§æœ‰è®¿é—®æƒã€‚å¯¹äºæ‰€æœ‰å…¶ä»–ç›®çš„ï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­æ˜¯ç­‰æ•ˆçš„ã€‚
- ç›¸åçš„æ¦‚å¿µï¼Œ`union`ä¸åŒäºç±»ä¸ç”³æŠ¥`struct`å’Œ`class`ï¼Œå› ä¸º`union`ä¸€æ¬¡åªèƒ½å­˜å‚¨ä¸€ä¸ªæ•°æ®æˆå‘˜ï¼Œä½†æ˜¯å®ƒä»¬ä¹Ÿæ˜¯ç±»ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä¿å­˜æˆå‘˜å‡½æ•°ã€‚`union`ç±»çš„é»˜è®¤è®¿é—®æƒé™ä¸º`public`ã€‚

****


****


****


# `Class(â…±)`

## é‡è½½è¿ç®—ç¬¦

- æœ¬è´¨ä¸Šè®²ï¼Œç±»å®šä¹‰äº†åœ¨C ++ä»£ç ä¸­ä½¿ç”¨çš„æ–°ç±»å‹ã€‚C ++ä¸­çš„ç±»å‹ä¸ä»…é€šè¿‡æ„é€ å’Œèµ‹å€¼ä¸ä»£ç äº¤äº’ã€‚å®ƒä»¬è¿˜é€šè¿‡æ“ä½œç¬¦è¿›è¡Œäº¤äº’ã€‚

|                       **å¯é‡è½½è¿ç®—ç¬¦**                       | **ä¸å¯é‡è½½çš„è¿ç®—ç¬¦**    |
| :----------------------------------------------------------: | ------------------- |
| `+    -    *    /    =    <    >    +=   -=   *=   /=   <<   >> <<=  >>=  ==   !=   <=   >=   ++   --   %    &    ^    !    | ~    &=   ^=   |=   &&   ||   %=   []   ()   ,    ->*  ->   new  delete    new[]     delete[]` | `::    .*    .    ?:` |


- è¿ç®—ç¬¦é€šè¿‡`operator`å‡½æ•°è¿›è¡Œé‡è½½ï¼Œè¿™äº›å‡½æ•°æ˜¯å…·æœ‰ç‰¹æ®Šåç§°çš„å¸¸è§„å‡½æ•°ï¼šå…¶åç§°ä»¥`operator`å…³é”®å­—å¼€å¤´ï¼Œåè·Ÿè¢«é‡è½½çš„*è¿ç®—ç¬¦*ã€‚è¯­æ³•ä¸ºï¼š

```c++
type operator sign (parameters){/* body */}
```



- å®ä¾‹ï¼š

```c++
#include <iostream>
using namespace std;

const int len = 3;

class CVector
{
  public:
	int x, y;
    int arr[len];
	CVector () {}
    CVector (int a, int b) : x(a), y(b) {}
    // è¿ç®—ç¬¦+é‡è½½
    CVector operator + (const CVector&);
    
    // è¿ç®—ç¬¦<<é‡è½½
    friend ostream &operator<<(ostream &output, const CVector &c)
    {
        output << "x=" << c.x << ",y=" << c.y << '\n';
        return output;
    }
    
    // è¿ç®—ç¬¦>>é‡è½½
	friend istream &operator>>(istream &input, CVector &c)
    {
        input >> c.x >> c.y;
        return input;
    }
    
    // è¿ç®—ç¬¦++é‡è½½
    CVector operator++(int)
    {
        ++x;
        ++y;
        return CVector(x, y);
    }
    
    // è¿ç®—ç¬¦=é‡è½½
    void operator=(const CVector &c)
    {
        x = c.x;
        y = c.y;
    }
    
    // è¿ç®—ç¬¦()é‡è½½
    CVector operator()(int a, int b)
    {
        return CVector(a+10, b+10);
    }
    
    // è¿ç®—ç¬¦[]é‡è½½
    int &operator[](int i)
    {
        if (i > len && i < 0) return arr[0];
        return arr[i];
    }
};

CVector CVector::operator+ (const CVector& param)
{
    CVector temp;
    temp.x = x + param.x;
    temp.y = y + param.y;
    return temp;
}

int main()
{
    CVector foo (3, 1);
    CVector bar (1, 2);
    CVector result;
    result = foo + bar;
    cout << result.x << ',' << result.y << '\n';
    
    CVector baz;
    cin >> baz;
    baz = foo(1, 3);
    cout << baz++;
    baz.arr[1] = 10;
    
    return 0;
}
```

- `operator+`ç±» çš„å‡½æ•°ä½¿è¯¥ç±»å‹`CVector`çš„åŠ æ³•è¿ç®—ç¬¦ï¼ˆ`+`ï¼‰é‡è½½ã€‚å£°æ˜åï¼Œå¯ä»¥ä½¿ç”¨è¿ç®—ç¬¦éšå¼è°ƒç”¨æ­¤å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶åŠŸèƒ½åç§°æ˜¾å¼è°ƒç”¨æ­¤å‡½æ•°ï¼š

```c++
c = a + b;
c = a.operator+ (b);
```

- è¿™ä¸¤ä¸ªæ˜¯ç­‰æ•ˆçš„ã€‚



- å¯¹äºæ“ä½œç¬¦+è¿™æ ·çš„æ“ä½œï¼Œæˆå‘˜å‡½æ•°é‡è½½æ‰€éœ€çš„å‚æ•°è‡ªç„¶æ˜¯æ“ä½œç¬¦å³ä¾§çš„æ“ä½œæ•°ã€‚è¿™å¯¹æ‰€æœ‰äºŒè¿›åˆ¶æ“ä½œç¬¦(å·¦è¾¹æœ‰ä¸€ä¸ªæ“ä½œæ•°ï¼Œå³è¾¹æœ‰ä¸€ä¸ªæ“ä½œæ•°)éƒ½æ˜¯å¸¸è§çš„ã€‚ä½†è¿ç®—ç¬¦å¯ä»¥æœ‰å¤šç§å½¢å¼ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªè¡¨ï¼Œå…¶ä¸­æ€»ç»“äº†å¯é‡è½½çš„æ¯ä¸ªä¸åŒæ“ä½œç¬¦æ‰€éœ€çš„å‚æ•°

- è¯·`@`åœ¨æ¯ç§æƒ…å†µä¸‹ç”±è¿ç®—ç¬¦æ›¿æ¢

| è¡¨è¾¾å¼      | è¿ç®—ç¬¦                                          | æˆå‘˜å‡½æ•°                | æ— æˆå‘˜å‡½æ•°         |
| ----------- | ----------------------------------------------- | ----------------------- | ------------------ |
| `@a`        | `+ - * & ! ~ ++ --`                             | `A::operator@()`        | `operator@(A)`     |
| `a@`        | `++ --`                                         | `A::operator@(int)`     | `operator@(A,int)` |
| `a@b`       | `+ - * / % ^ & | < > == != <= >= << >> && || ,` | `A::operator@(B)`       | `operator@(A,B)`   |
| `a@b`       | `= += -= *= /= %= ^= &= |= <<= >>= []`          | `A::operator@(B)`       | -                  |
| `a(b,c...)` | `()`                                            | `A::operator()(B,C...)` | -                  |
| `a->b`      | `->`                                            | `A::operator->()`       | -                  |
| `(TYPE) a`  | `TYPE`                                          | `A::operator TYPE()`    | -                  |



<u>è¯·æ³¨æ„ï¼ŒæŸäº›è¿ç®—ç¬¦å¯èƒ½ä»¥ä¸¤ç§å½¢å¼é‡è½½ï¼šä½œä¸ºæˆå‘˜å‡½æ•°æˆ–ä½œä¸ºéæˆå‘˜å‡½æ•°</u>

****

## `this`å…³é”®å­—

- å…³é”®å­—`this`è¡¨ç¤ºæŒ‡å‘å…¶æˆå‘˜å‡½æ•°æ­£åœ¨æ‰§è¡Œçš„å¯¹è±¡çš„æŒ‡é’ˆã€‚åœ¨ç±»çš„æˆå‘˜å‡½æ•°ä¸­ä½¿ç”¨å®ƒæ¥å¼•ç”¨å¯¹è±¡æœ¬èº«ã€‚

- `friend`åŠŸèƒ½æ²¡æœ‰`this`æŒ‡é’ˆï¼Œå› ä¸º`friend`ä¸æ˜¯ç±»çš„æˆå‘˜ã€‚åªæœ‰æˆå‘˜å‡½æ•°å…·æœ‰`this`æŒ‡é’ˆã€‚



1. ç”¨äºæ£€æŸ¥ä¼ é€’ç»™æˆå‘˜å‡½æ•°çš„å‚æ•°æ˜¯å¦æ˜¯å¯¹è±¡æœ¬èº«

```c++
#include <iostream>
using namespace std;

class Dummy
{
  public:
    bool isitme (Dummy& param);
}a;

bool Dummy::isitme (Dummy& param)
{
    if (&param == this) return true;
    else return false;
}

int main()
{
    Dummy* b = &a;
    cout << b -> isitme(a);
    return 0;
}
```

2. å®ƒä¹Ÿç»å¸¸ç”¨åœ¨`operator=`é€šè¿‡å¼•ç”¨è¿”å›å¯¹è±¡çš„æˆå‘˜å‡½æ•°ä¸­ï¼Œä¾‹å¦‚ï¼š

```c++
CVector& CVector::operator = (const CVector& param)
{
    x = param.x;
    y = param.y;
    return *this;
}
```

****

## é™æ€æˆå‘˜

- ä¸€ä¸ªç±»å¯ä»¥åŒ…å«æ•°æ®æˆ–å‡½æ•°çš„é™æ€æˆå‘˜ã€‚

- ç±»çš„é™æ€æ•°æ®æˆå‘˜ä¹Ÿç§°ä¸ºâ€œ`class`å˜é‡â€ï¼Œå› ä¸ºåŒä¸€ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡åªæœ‰ä¸€ä¸ªå…¬å…±å˜é‡ï¼Œå…±äº«ç›¸åŒçš„å€¼ï¼Œè¿™æ„å‘³ç€æ— è®ºåˆ›å»ºäº†å¤šå°‘ä¸ªæ­¤ç±»å¯¹è±¡ï¼Œé™æ€æˆå‘˜åªæœ‰ä¸€ä¸ªå‰¯æœ¬ã€‚

- ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥ç”¨äºç±»ä¸­çš„å˜é‡ï¼Œè¯¥å˜é‡å¯ä»¥åŒ…å«ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè¯¥è®¡æ•°å™¨å…·æœ‰å½“å‰åˆ†é…çš„è¯¥ç±»å¯¹è±¡çš„æ•°é‡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```c++
#include <iostream>
using namespace std;

class Dummy
{
    public:
    static int n;
    Dummy () {n++;}
};

int Dummy::n = 0;	//é™æ€å˜é‡åˆå§‹åŒ–

int main()
{
    Dummy a;
    cout << a.n << '\n';
    return 0;
}
```



- å®é™…ä¸Šï¼Œé™æ€æˆå‘˜å…·æœ‰ä¸éæˆå‘˜å˜é‡ç›¸åŒçš„å±æ€§ï¼Œä½†æ˜¯å®ƒä»¬äº«æœ‰ç±»ä½œç”¨åŸŸã€‚å› æ­¤ï¼Œä¸ºäº†é¿å…å¤šæ¬¡å£°æ˜å®ƒä»¬ï¼Œä¸èƒ½ç›´æ¥åœ¨ç±»ä¸­å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œéœ€è¦åœ¨å…¶å¤–éƒ¨çš„æŸä¸ªåœ°æ–¹è¿›è¡Œåˆå§‹åŒ–ã€‚

```c++
int Dummy::n = 0;
```



- å› ä¸ºå®ƒæ˜¯åŒä¸€ç±»çš„æ‰€æœ‰å¯¹è±¡çš„å…¬å…±å˜é‡å€¼ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶ç§°ä¸ºè¯¥ç±»çš„ä»»ä½•å¯¹è±¡çš„æˆå‘˜ï¼Œç”šè‡³å¯ä»¥ç›´æ¥é€šè¿‡ç±»åæ¥å¼•ç”¨ï¼ˆå½“ç„¶ï¼Œè¿™ä»…å¯¹é™æ€æˆå‘˜æœ‰æ•ˆï¼‰ï¼Œä¸‹é¢çš„è¿™ä¸¤ä¸ªè°ƒç”¨æ˜¯æŒ‡åŒä¸€ä¸ªå˜é‡ï¼š

```c++
a.n;
Dummy::n;
```



- ç±»ä¹Ÿå¯ä»¥å…·æœ‰é™æ€æˆå‘˜å‡½æ•°ã€‚è¿™äº›è¡¨ç¤ºç›¸åŒï¼šç±»çš„æˆå‘˜æ˜¯è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡æ‰€å…±æœ‰çš„ï¼Œå®Œå…¨å……å½“éæˆå‘˜å‡½æ•°ï¼Œä½†åƒè¯¥ç±»çš„æˆå‘˜ä¸€æ ·è¢«è®¿é—®ã€‚å› ä¸ºå®ƒä»¬å°±åƒéæˆå‘˜å‡½æ•°ï¼Œæ‰€ä»¥å®ƒä»¬æ— æ³•è®¿é—®ç±»çš„éé™æ€æˆå‘˜ï¼ˆæˆå‘˜å˜é‡æˆ–æˆå‘˜å‡½æ•°éƒ½ä¸èƒ½ï¼‰ã€‚ä»–ä»¬éƒ½ä¸èƒ½ä½¿ç”¨å…³é”®å­—`this`ã€‚

****

## `Const`æˆå‘˜å‡½æ•°

- å½“ç±»çš„å¯¹è±¡è¢«é™å®šä¸º`const`å¯¹è±¡æ—¶:

```c++
const MyClass myobject;
```

- ä»ç±»å¤–éƒ¨å¯¹å…¶æ•°æ®æˆå‘˜çš„è®¿é—®è¢«é™åˆ¶ä¸ºåªè¯»ï¼Œå°±å¥½åƒå®ƒçš„æ‰€æœ‰æ•°æ®æˆå‘˜éƒ½æ˜¯`const`ä»ç±»å¤–éƒ¨è®¿é—®å®ƒä»¬çš„é‚£äº›æˆå‘˜ä¸€æ ·ã€‚<u>ä½†æ˜¯è¯·æ³¨æ„ï¼Œæ„é€ å‡½æ•°ä»è¢«è°ƒç”¨ï¼Œå¹¶å…è®¸åˆå§‹åŒ–å’Œä¿®æ”¹è¿™äº›æ•°æ®æˆå‘˜</u>ï¼š

```c++
#include <iostream>
using namespace std;

class MyClass
{
    public:
    int x;
    MyClass(int val) : x(val){}
	int get (){return x;}
};

int main()
{
    const MyClass mc (1);
    cout << mc.x << '\n';
    return 0;
}
```



- <u>æ³¨æ„ï¼Œ`const`å¯ä»¥ç”¨æ¥é™å®šæˆå‘˜å‡½æ•°è¿”å›çš„ç±»å‹ã€‚è¿™`const`ä¸å°†æˆå‘˜æŒ‡å®šä¸ºçš„æ–¹å¼ä¸åŒ`const`ã€‚ä¸¤è€…éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå¹¶ä¸”ä½äºå‡½æ•°åŸå‹ä¸­çš„ä¸åŒä½ç½®ï¼š</u>

```c++
int get() const {return x;}	//constæˆå‘˜å‡½æ•°
const int& get() {return x;}	//æˆå‘˜å‡½æ•°è¿”å›ä¸€ä¸ª const&
const int& get() const {return x;}	//constæˆå‘˜å‡½æ•°è¿”å›ä¸€ä¸ªconst&
```


****

****

****



# ç»§æ‰¿

- é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€å°±æ˜¯ç»§æ‰¿ã€‚ç»§æ‰¿ä½¿æˆ‘ä»¬å¯ä»¥ç”¨å¦ä¸€ä¸ªç±»æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œè¿™ä½¿åˆ›å»ºå’Œç»´æŠ¤åº”ç”¨ç¨‹åºå˜å¾—æ›´åŠ å®¹æ˜“ã€‚è¿™ä¹Ÿæä¾›äº†é‡ç”¨ä»£ç åŠŸèƒ½å’Œå¿«é€Ÿå®ç°æ—¶é—´çš„æœºä¼šã€‚



****

## åŸºç±»å’Œæ´¾ç”Ÿç±»

- ä¸€ä¸ªç±»å¯ä»¥ä»å¤šä¸ªç±»æ´¾ç”Ÿï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥ä»å¤šä¸ªåŸºç±»ç»§æ‰¿æ•°æ®å’Œå‡½æ•°ã€‚è¦å®šä¹‰æ´¾ç”Ÿç±»ï¼Œæˆ‘ä»¬ä½¿ç”¨ç±»æ´¾ç”Ÿåˆ—è¡¨æ¥æŒ‡å®šåŸºç±»ã€‚ä¸€ä¸ªç±»æ´¾ç”Ÿåˆ—è¡¨å‘½åä¸€ä¸ªæˆ–å¤šä¸ªåŸºç±»ã€‚

```c++
class derived_class : access_specifier base_class
```

1. `access_specifier`ï¼šè®¿é—®ä¿®é¥°ç¬¦ï¼Œæ˜¯`private`ã€`protected`å’Œ`public`ä¹‹ä¸€ã€‚é»˜è®¤`private`
2. `base_class`ï¼šåŸºç±»å



- å®ä¾‹ï¼š

```c++
#include <iostream>
using namespace std;

class shape
{
    int n;
    public:
    int len;
    int getLen(){return len;}
};

class square : public shape
{
    public:
    int volume() {return len * len;}
};

int main()
{
    square s;
    s.len = 2;
    cout << "the square volume is " << s.volume();
    return 0;
}
```



****

## è®¿é—®æ§åˆ¶å’Œç»§æ‰¿

- æ´¾ç”Ÿç±»å¯ä»¥è®¿é—®å…¶åŸºç±»çš„æ‰€æœ‰éç§æœ‰æˆå‘˜ã€‚å› æ­¤ï¼Œæ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°ä¸å¯è®¿é—®çš„åŸºç±»æˆå‘˜åº”åœ¨åŸºç±»ä¸­å£°æ˜ä¸ºç§æœ‰ã€‚



|   è®¿é—®   | `public` | `protected` | `private` |
| :------: | :------: | :---------: | :-------: |
| åŒä¸€ä¸ªç±» |    âˆš     |      âˆš      |     âˆš     |
|  æ´¾ç”Ÿç±»  |    âˆš     |      âˆš      |     Ã—     |
|   å¤–ç±»   |    âˆš     |      Ã—      |     Ã—     |



- æ´¾ç”Ÿç±»ç»§æ‰¿æ‰€æœ‰åŸºç±»æ–¹æ³•ï¼Œä½†ä»¥ä¸‹æƒ…å†µä¾‹å¤–ï¼š
  - åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°å’Œå‰¯æœ¬æ„é€ å‡½æ•°ã€‚
  - åŸºç±»çš„é‡è½½è¿ç®—ç¬¦ã€‚
  - åŸºç±»çš„å¥½å‹åŠŸèƒ½ã€‚



****

## ç»§æ‰¿ç±»å‹

- ä»åŸºç±»æ´¾ç”Ÿä¸€ä¸ªç±»æ—¶ï¼Œå¯ä»¥é€šè¿‡`public`,`protected`æˆ–`private`ç»§æ‰¿æ¥ç»§æ‰¿åŸºç±»ã€‚

- æˆ‘ä»¬å‡ ä¹ä¸ä½¿ç”¨`protected`ç»§æ‰¿æˆ–`private`ç»§æ‰¿ï¼Œä½†é€šå¸¸ä½¿ç”¨`public`ç»§æ‰¿ã€‚å½“ä½¿ç”¨ä¸åŒç±»å‹çš„ç»§æ‰¿æ—¶ï¼Œéµå¾ªä»¥ä¸‹è§„åˆ™-
  - `public`ç»§æ‰¿-ä»`public`åŸºç±»æ´¾ç”Ÿç±»æ—¶ï¼ŒåŸºç±»çš„`public`æˆå‘˜æˆä¸ºæ´¾ç”Ÿç±»çš„`public`æˆå‘˜ï¼ŒåŸºç±»çš„`protected`æˆå‘˜æˆä¸ºæ´¾ç”Ÿç±»çš„`protected`æˆå‘˜ã€‚åŸºç±»çš„`private`æˆå‘˜æ°¸è¿œä¸èƒ½ä»æ´¾ç”Ÿç±»ç›´æ¥è®¿é—®ï¼Œä½†å¯ä»¥é€šè¿‡è°ƒç”¨åŸºç±»çš„`public`æˆå‘˜å’Œ`protected`æˆå‘˜è®¿é—®ã€‚
  - `protected`ç»§æ‰¿-ä»`protected`åŸºç±»æ´¾ç”Ÿæ—¶ï¼ŒåŸºç±»çš„`public`æˆå‘˜å’Œ`protected`æˆå‘˜æˆä¸ºæ´¾ç”Ÿç±»çš„`protected`æˆå‘˜ã€‚
  - `private`ç»§æ‰¿-ä»`private`åŸºç±»æ´¾ç”Ÿæ—¶ï¼ŒåŸºç±»çš„`public`æˆå‘˜å’Œ`protected`æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„`private`æˆå‘˜ã€‚



****

## å¤šç»§æ‰¿

- ä¸€ä¸ªC ++ç±»å¯ä»¥ä»å¤šä¸ªç±»ä¸­ç»§æ‰¿æˆå‘˜

```c++
class derived_class : access base_classA, access base_classB ...
```



****

****

****



# å¤šæ€

- **å¤šæ€æ€§**ä¸€è¯æ„å‘³ç€å…·æœ‰å¤šç§å½¢å¼ã€‚é€šå¸¸ï¼Œå½“å­˜åœ¨ç±»çš„å±‚æ¬¡ç»“æ„å¹¶ä¸”é€šè¿‡ç»§æ‰¿å°†å®ƒä»¬å…³è”æ—¶ï¼Œå°±ä¼šå‘ç”Ÿå¤šæ€ã€‚
- C ++å¤šæ€æ€§æ„å‘³ç€å¯¹æˆå‘˜å‡½æ•°çš„è°ƒç”¨å°†å¯¼è‡´æ‰§è¡Œä¸åŒçš„å‡½æ•°ï¼Œå…·ä½“å–å†³äºè°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡çš„ç±»å‹ã€‚



```c++
#include <iostream>
using namespace std;

class shape
{
    public:
    int width, height;
    shape(int x, int y) : width(x), height(y){}
    virtual int area(){};
};

class Triangle : public shape
{
	public:
    Triangle (int x, int y) : shape(x, y){}
    int area()
    {
        return width * height / 2;
    }
};

class Rectangle : public shape
{
    public:
    Rectangle(int x, int y) : shape(x, y){}
    int area()
    {
        return width * height;
    }
};

int main()
{
    shape *s;
    Triangle t(2, 4);
    Rectangle r(1, 2);
    
    s = &t;
    
    cout << "the triangle area is " << s->area() << '\n';
    
    s = &r;
    
    cout << "the rectangle area is " << s->area() << '\n';
    
    return 0;
}
```



****

## è™šå‡½æ•°

- è™šå‡½æ•°æ˜¯åŸºç±»ä¸­ä½¿ç”¨å…³é”®å­—`virtual`å£°æ˜çš„å‡½æ•°ã€‚åœ¨åŸºç±»ä¸­å®šä¹‰ä¸€ä¸ªè™šå‡½æ•°ï¼Œåœ¨æ´¾ç”Ÿç±»ä¸­å®šä¹‰å¦ä¸€ä¸ªç‰ˆæœ¬ï¼Œå‘ç¼–è¯‘å™¨å‘å‡ºä¿¡å·ï¼Œè¡¨ç¤ºæˆ‘ä»¬ä¸å¸Œæœ›è¯¥å‡½æ•°æœ‰é™æ€é“¾æ¥ã€‚

- æˆ‘ä»¬çœŸæ­£æƒ³è¦çš„æ˜¯åœ¨ç¨‹åºä¸­ä»»ä½•ç»™å®šçš„ç‚¹ä¸Šè°ƒç”¨çš„å‡½æ•°çš„é€‰æ‹©ï¼Œä»¥åŸºäºå®ƒè¢«è°ƒç”¨çš„å¯¹è±¡çš„ç±»å‹ã€‚è¿™ç§æ“ä½œç§°ä¸ºåŠ¨æ€é“¾æ¥æˆ–å»¶è¿Ÿç»‘å®šã€‚

****

## çº¯è™šå‡½æ•°

- æ‚¨å¯èƒ½å¸Œæœ›åœ¨åŸºç±»ä¸­åŒ…å«è™šå‡½æ•°ï¼Œä»¥ä¾¿åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰è™šå‡½æ•°ä»¥é€‚åº”è¯¥ç±»çš„å¯¹è±¡ï¼Œä½†æ‚¨æ— æ³•åœ¨åŸºç±»ä¸­å¯¹è¯¥å‡½æ•°ç»™å‡ºæœ‰æ„ä¹‰çš„å®šä¹‰ã€‚

```c++
virtual int area() = 0;
```

- å‘Šè¯‰ç¼–è¯‘å™¨è¯¥å‡½æ•°æ²¡æœ‰ä¸»ä½“ï¼Œå¹¶ä¸”ä¸Šé¢çš„è™šå‡½æ•°å°†ç§°ä¸º**çº¯è™šå‡½æ•°**



****

****

****



# æ•°æ®æŠ½è±¡



## è®¿é—®æ ‡ç­¾å¼ºåˆ¶æŠ½è±¡

- åœ¨C++ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨è®¿é—®æ ‡ç­¾æ¥å®šä¹‰ç±»çš„æŠ½è±¡æ¥å£ï¼Œä¸€ä¸ªç±»å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè®¿é—®æ ‡ç­¾
  - å¸¦æœ‰å…¬å…±æ ‡ç­¾çš„æˆå‘˜å¯ä»¥è®¿é—®è¯¥è®¡åˆ’çš„æ‰€æœ‰éƒ¨åˆ†ï¼Œç±»å‹çš„æ•°æ®æŠ½è±¡è§†å›¾ç”±å…¶å…¬å…±æˆå‘˜å®šä¹‰ã€‚
  - ä½¿ç”¨ç§æœ‰æ ‡ç­¾å®šä¹‰çš„æˆå‘˜ä¸èƒ½è®¿é—®ä½¿ç”¨è¯¥ç±»çš„ä»£ç ã€‚ä¸“ç”¨çš„éƒ¨åˆ†ä»ä½¿ç”¨è¯¥ç±»å‹çš„ä»£ç ä¸­éšè—å®ç°

**<u>å¯¹äºè®¿é—®æ ‡ç­¾å‡ºç°çš„é¢‘ç‡æ²¡æœ‰é™åˆ¶ã€‚æ¯ä¸ªè®¿é—®æ ‡ç­¾éƒ½æŒ‡å®šåç»­æˆå‘˜å®šä¹‰çš„è®¿é—®çº§åˆ«ã€‚æŒ‡å®šè®¿é—®çº§åˆ«ä¸€ç›´ä¿æŒæœ‰æ•ˆï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªè®¿é—®æ ‡ç­¾æˆ–çœ‹åˆ°ç±»ä¸»ä½“çš„å³å³æ‹¬å·ä¸ºæ­¢ã€‚</u>**

****

## æŠ½è±¡ç±»çš„å¥½å¤„

1. ä¿æŠ¤å†…éƒ¨é¿å…å‘ç”Ÿæ„å¤–çš„ç”¨æˆ·çº§é”™è¯¯ï¼Œè¿™äº›é”™è¯¯å¯èƒ½ä¼šç ´åå¯¹è±¡çš„çŠ¶æ€ã€‚
2. è¯¥ç±»å®ç°å¯èƒ½ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œä¸æ–­å˜åŒ–ï¼Œä»¥å“åº”ä¸æ–­å˜åŒ–çš„éœ€æ±‚æˆ–é”™è¯¯æŠ¥å‘Šï¼Œè€Œæ— éœ€æ›´æ”¹ç”¨æˆ·çº§ä»£ç ã€‚



****

## æ•°æ®æŠ½è±¡ç¤ºä¾‹

```c++
#include <iostream>
using namespace std;

class Adder
{
    private:
    int total;
    
    public:
    Adder(int i = 0) : total(i){}
    void addNum(int i)
    {
        total += i;
    }
    int getTotal(){return total;}
};

int main()
{
    Adder a;
    
    a.addNum(2);
    a.addNum(3);
    
    cout << a.getTotal() << '\n';
    
    return 0;
}
```



****

## è®¾è®¡ç­–ç•¥

- æŠ½è±¡å°†ä»£ç åˆ†ä¸ºæ¥å£å’Œå®ç°ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡ç»„ä»¶æ—¶ï¼Œå¿…é¡»ä½¿æ¥å£ç‹¬ç«‹äºå®ç°ï¼Œè¿™æ ·ï¼Œå¦‚æœæ‚¨æ›´æ”¹åŸºç¡€å®ç°ï¼Œåˆ™æ¥å£å°†ä¿æŒä¸å˜ã€‚

- åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ— è®ºä½¿ç”¨è¿™äº›æ¥å£çš„ç¨‹åºæ˜¯ä»€ä¹ˆï¼Œå®ƒä»¬éƒ½ä¸ä¼šå—åˆ°å½±å“ï¼Œåªéœ€è¦ä½¿ç”¨æœ€æ–°çš„å®ç°è¿›è¡Œé‡æ–°ç¼–è¯‘ã€‚



****

****

****



# æ•°æ®å°è£…ğŸ“¦

- æ‰€æœ‰C ++ç¨‹åºå‡ç”±ä»¥ä¸‹ä¸¤ä¸ªåŸºæœ¬å…ƒç´ ç»„æˆ-
  - **ç¨‹åºè¯­å¥ï¼ˆä»£ç ï¼‰** -è¿™æ˜¯æ‰§è¡ŒåŠ¨ä½œçš„ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬ç§°ä¸ºåŠŸèƒ½ã€‚
  - **ç¨‹åºæ•°æ®**-æ•°æ®æ˜¯å—ç¨‹åºåŠŸèƒ½å½±å“çš„ç¨‹åºä¿¡æ¯ã€‚

- å°è£…æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ¦‚å¿µï¼Œå®ƒå°†æ•°æ®ä¸æ“çºµæ•°æ®çš„åŠŸèƒ½ç»‘å®šåœ¨ä¸€èµ·ï¼Œå¹¶ç¡®ä¿ä¸å—å¤–ç•Œå¹²æ‰°å’Œæ»¥ç”¨ã€‚æ•°æ®å°è£…å¯¼è‡´äº†é‡è¦çš„`OOP`(é¢å‘å¯¹è±¡)æ¦‚å¿µï¼š**æ•°æ®éšè—**ã€‚

- **æ•°æ®å°è£…**æ˜¯æ†ç»‘æ•°æ®çš„æœºåˆ¶ï¼Œä½¿ç”¨å®ƒä»¬çš„åŠŸèƒ½å’Œ**æ•°æ®æŠ½è±¡**æ˜¯ä»…å…¬å¼€æ¥å£å¹¶å‘ç”¨æˆ·éšè—å®ç°ç»†èŠ‚çš„æœºåˆ¶ã€‚



## ç¤ºä¾‹

```c++
#include <iostream>
using namespace std;

class Encap
{
    int data;
    public:
    Encap(int i = 0) : data(i){}
    int getData(){return data;}
};

int main()
{
    Encap e(1);
    
    cout << e.getData();
    return 0;
}
```



****

****

****



# æ¥å£ï¼ˆæŠ½è±¡ç±»ï¼‰

- æ¥å£æè¿°äº†c++ç±»çš„è¡Œä¸ºæˆ–åŠŸèƒ½ï¼Œè€Œæ— éœ€æäº¤è¯¥ç±»çš„ç‰¹å®šå®ç°ã€‚

- C ++æ¥å£æ˜¯ä½¿ç”¨**æŠ½è±¡ç±»**å®ç°çš„ï¼Œè¿™äº›æŠ½è±¡ç±»ä¸åº”ä¸æ•°æ®æŠ½è±¡æ··æ·†ï¼Œæ•°æ®æŠ½è±¡æ˜¯ä¸€ç§å°†å®ç°ç»†èŠ‚ä¸å…³è”æ•°æ®åˆ†å¼€çš„æ¦‚å¿µã€‚

- é€šè¿‡å°†è‡³å°‘ä¸€ä¸ªå‡½æ•°å£°æ˜ä¸º**çº¯è™šå‡½æ•°**ï¼Œå¯ä»¥ä½¿ä¸€ä¸ªç±»æŠ½è±¡ã€‚é€šè¿‡åœ¨å£°æ˜ä¸­æ”¾ç½®â€œ = 0â€æ¥æŒ‡å®šçº¯è™šå‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```c++
class abstract_name
{
    public:
    virtual int value = 0;
};
```



- ä¸€ä¸ªçš„ç›®çš„**æŠ½è±¡ç±»**æ˜¯æä¾›ä¸€ä¸ªé€‚å½“çš„åŸºç±»å…¶ä»–ç±»å¯ä»¥ç»§æ‰¿ã€‚æŠ½è±¡ç±»ä¸èƒ½ç”¨äºå®ä¾‹åŒ–å¯¹è±¡ï¼Œè€Œåªèƒ½ç”¨ä½œ**æ¥å£**ã€‚å°è¯•å®ä¾‹åŒ–æŠ½è±¡ç±»çš„å¯¹è±¡ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚

- å¯ä»¥ç”¨æ¥å®ä¾‹åŒ–å¯¹è±¡çš„ç±»ç§°ä¸º**å…·ä½“ç±»**ã€‚

****

## ç¤ºä¾‹

```c++
#include <iostream>

using namespace std;

class shape
{
    protected:
	struct side
    {
		int width;
    	int height;
    }s;
    
    public:
    virtual double area() = 0;	//çº¯è™šå‡½æ•°æä¾›æ¥å£æ¡†æ¶
    
    // è·å–å®½é«˜
    side setSide(int w, int h)
    {
        s.width = w;
        s.height = h;
        return s;
    }
};

class Rect : public shape
{
    public:
    double area(){return s.width * s.height;}
};

class Triangle : public shape
{
    public:
    double area(){return s.width * s.height / 2;}
};

int main()
{
    Rect r;
    r.setSide(1,2);
    cout << r.area() << '\n';
    
    Triangle t;
    t.setSide(2,3);
    cout << t.area() << '\n';
    
    return 0;
}
```

- æŠ½è±¡ç±»ï¼šå«æœ‰çº¯è™šå‡½æ•°çš„ç±»
- æ¥å£ç±»ï¼šä»…å«æœ‰çº¯è™šå‡½æ•°çš„æŠ½è±¡ç±»
- èšåˆç±»ï¼šç”¨æˆ·å¯ä»¥ç›´æ¥è®¿é—®å…¶æˆå‘˜ï¼Œå¹¶ä¸”å…·æœ‰ç‰¹æ®Šçš„åˆå§‹åŒ–è¯­æ³•å½¢å¼ã€‚æ»¡è¶³å¦‚ä¸‹ç‰¹ç‚¹ï¼š
	- æ‰€æœ‰æˆå‘˜éƒ½æ˜¯ public
	- æ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°
	- æ²¡æœ‰ç±»å†…åˆå§‹åŒ–
	- æ²¡æœ‰åŸºç±»ï¼Œä¹Ÿæ²¡æœ‰ virtual å‡½æ•°
