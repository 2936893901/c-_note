# Array

- 数组是放置在连续内存位置中的一系列相同类型的元素，可以通过向唯一标识符添加索引来单独引用数组。



```c++
type name [elements];
```

1. `type`：数组的类型
2. `name`：数组变量名
3. `elements`：数组的长度



*注意：`elements`方括号内的字段`[]`表示数组中的元素数，必须为一个*常量表达式*，因为数组是静态内存块，必须在编译时确定大小，然后程序才能运行。*



## 初始化数组

- 默认情况下，*局部范围的*常规数组（例如，在函数中声明的常规数组）未初始化。这意味着其元素均未设置为任何特定值。在声明数组时，它们的内容尚未确定。

  但是，在声明数组时，可以通过将这些初始值括在大括号{}中来将其显式初始化为特定值。例如：

```c++
int foo [5] = {1,2,3,4,5};
```



- 如果声明为少，则其余元素将设置为其默认值（对于基本类型，这意味着它们将填充为零）。

```c++
int bar [5] = {1,2};
```



- 初始化器甚至可以没有任何值，只有大括号：

```c++
int baz [5] = {};
```



- 为数组提供值的初始化时，C ++允许将方括号留空`[]`。在这种情况下，编译器将自动假定数组的大小与括号之间包含的值数量相匹配`{`}:

```c++
int foo [] = {1,2,3,4};
```



- C ++的发展导致数组也采用了*通用初始化*。因此，在声明和初始化程序之间不再需要等号。这两个语句是等效的：

```c++
int foo [] {10,20,40};
```



## 访问数组的值

- 可以访问数组中任何元素的值，就像访问相同类型的常规变量的值一样。

```c++
name[index];
```

*注意：数组的索引始终都是以零开始*



## 多维数组



## 数组作为参数

- 数组作为函数的参数，可以将参数声明为数组类型，但带有空方括号，而忽略数组的实际大小。例如：

```c++
void procedure (int arg[])
```



*从某种意义上说，将数组作为参数传递总是会失去维度。背后的原因是，由于历史原因，无法直接复制数组，因此真正传递的是指针。*



## 库数组

- 上面说明的数组直接实现为从C语言继承的语言功能。它们是一个很棒的功能，但是通过限制其复制并轻易衰减为指针，它们可能会遭受过多的优化。
- 为了克服语言内置数组中的某些问题，C ++提供了另一种数组类型作为标准容器。它是在header中定义的类型模板（实际上是类模板）`<array>`。

```c++
#include <array>
```



- 实例：

```c++
#include <iostream>
#include <array>
using namespace std;

int main()
{
    array<int, 3> myarray {10,20,30};
    for (int i = 0; i < myarray.size(); ++i)
    {
        ++myarray[i];
    }
    for (int elem : myarray)
        cout << elem << '\n';
}
```

