# Lambda

```c++
[capture_clause](paramenters) -> return_type
{
    statments;
}
```

- []叫做捕获说明符，表示一个lambda表达式的开始。
- 如果不需要的话，`capture_clause`和`paraments`都可以是空的。

- `return_type`是可选的，并且如果省略，`auto`将假设（因此使用用于确定返回类型类型推断）。虽然我们之前曾指出应避免对函数返回类型进行类型推断，但在这种情况下，可以使用它（因为这些函数通常很简单）。

- 另请注意，`lambda`没有名称，因此我们无需提供名称。

> 示例

```c++
#include <iostream>

int main()
{
    []() {};	// 声明一个无参数，无返回值的匿名函数
    
    [](int x, int y)->{return x + y;}
    
    return 0;
}
```


## 捕获外部变量

捕获列表里可以有多个捕获选项，以逗号分隔，使用了略微“新奇”的语法，规则如下

- [ ]     ：无捕获，函数体内不能访问任何外部变量 
- [ =]    ：以值（拷贝）的方式捕获所有外部变量，函数体内可以访问，但是不能修改。
- [ &]    ：以引用的方式捕获所有外部变量，函数体内可以访问并修改（需要当心无效的引用）；
- [ var]  ：以值（拷贝）的方式捕获某个外部变量，函数体可以访问但不能修改。
- [ &var] ：以引用的方式获取某个外部变量，函数体可以访问并修改
- [ this]  ：捕获this指针，可以访问类的成员变量和函数，
- [ =，&var] ：引用捕获变量var，其他外部变量使用值捕获。
- [ &，var]：只捕获变量var，其他外部变量使用引用捕获。
